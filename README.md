#### [Android libraries](https://github.com/warren-bank/Android-libraries/tree/passy/Android-DirectoryChooser)

__original library:__

* source code repo: [Android-DirectoryChooser](https://github.com/passy/Android-DirectoryChooser)
* author/copyright: [Pascal‏‏ Harti‏g](https://github.com/passy)
* license: [Apache-2.0](http://www.apache.org/licenses/LICENSE-2.0)
* forked from commit SHA: [ee5b7f1](https://github.com/passy/Android-DirectoryChooser/tree/ee5b7f1b4cf01598b8719fcdf8ebd066418c48f4)
  * date of commit: Aug 18, 2018

__screenshot:__

![DirectoryChooser Activity](https://github.com/passy/Android-DirectoryChooser/raw/master/assets/screenshots/chooser-activity.png)

__notes:__

* what it does:
  * Activity that can be opened for a result
    * displays a list of file system directories
    * can navigate up or down the tree
    * can "cancel"
      * closes Activity
      * returns a result that indicates no selection was made
    * can "confirm" the selection of the current directory
      * closes Activity
      * returns a result that includes the selected directory
* what I like:
  * quality of coding is excellent
    * [nice article](https://passy.svbtle.com/simpler-android-apis-with-autoparcel) he wrote about his usage of the AutoParcel library
      * calling code uses a Builder generated by AutoParcel to construct the configs object
      * the configs object can be added directly to the Intent that starts the library Activity
      * the library Activity:
        * extracts the configs object from the Intent
        * passes the configs object to a static method in the DialogFragment
          * calls its constructor
          * adds the configs object to the instance
      * the DialogFragment:
        * does all the work
        * can be displayed as a Dialog
        * can be embedded in the layout of an Activity
          * as is done by the library Activity
        * _note:_
          * the sample app contains 2 Activities
            1. uses an Intent to open the library Activity
            2. interacts with the DialogFragment directly and displays it as a Dialog
  * the UI
    * minimal (in a good way)
      * contains only what is needed for the desired functionality, and no more
* what I dislike:
  * for what it is:
    * absolutely nothing.. great library
  * for what it is not:
    * I wish that he included an additional Activity to choose files
      * the library wasn't designed for this
      * all of the components would need to be modified
        * maybe there already exists a fork that has made these modifications?

__changes:__

* Gradle build scripts
  * upgraded Gradle
  * updated many of the dependencies
  * updated the repositories
  * updated the verbs used by the Java plugin
    * set many of the dependencies to `compileOnly`
      * significantly reduced the size of the sample APK
        * without ProGuard:
          * the size is reduced slightly
        * with ProGuard:
          * `minifyEnabled true`
          * `shrinkResources true`
          * the size is reduced by half
            * 1769 KB = size of APK in Google Play Store (official release)
            * 945 KB = size of APK generated by new build scripts
            * 839 KB = size of APK generated by new build scripts
              * when `constants.gradle` is modified to revert the version of the Android support libraries to match those used in the official release:
                * `supportLibraryVersion = '25.3.1'`
      * _note:_
        * prior to this change, ProGuard would fail
* unit tests
  * removed all test code and related dependencies
